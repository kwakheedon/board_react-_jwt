package com.example.board.domain.post;

import java.util.ArrayList;
import java.util.List;

import com.example.board.domain.comment.Comment;

import jakarta.persistence.CascadeType;
import jakarta.persistence.OneToMany;
import lombok.AccessLevel;
import lombok.Builder;
import lombok.Getter;
import lombok.NoArgsConstructor;


@Entity
@Getter 
@Builder
@NoArgsConstructor(access = AccessLevel.PROTECTED)
public class Entity {

	/PK지정 (BoardId), /넣어둔 데이터를 가지고올때 사용
	@Id 
	@GeneratedValue(strategy= GenerationType.IDENTITY) 
	Long id; 	 
	 
  //컬럼null, 길이제한, 수정여부(처음insert는수정 그다음x)
	@Column(nullable = false,length=200 ,updatable= false)
	String title; 

	//업데이트 상태변경
	 public void update(String title, String content) {
      this.title = title;
      this.content = content;
    
  //member클래스에 PK(id)를 hahaha 를 FK로 참조시킨다
	@ManyToOne(fetch = FetchType.LAZY)
	@JoinColumn(name = "member_id", nullable = false)
	String hahaha;
	
	//내부에 Post는 여러개의 Comment를 받을수있다(1:N)
	//게시글 post 삭제시<Comment> 같이 삭제됨
	@OneToMany(mappedBy = "post", cascade = CascadeType.ALL)
	private List<Comment> comments = new ArrayList<>();
	
	
}

