package com.example.board.domain.post.dto;

import com.example.board.domain.post.Post;

import lombok.AccessLevel;
import lombok.Builder;
import lombok.Getter;
import lombok.NoArgsConstructor;

@Getter
@NoArgsConstructor(access = AccessLevel.PRIVATE) // 외부에서 생성자 직접 호출을 막습니다.
public class PostDetailRes {

    private Long postId;
    private String title;
    private String content;
 
    //Post 엔티티를 받아서 필요한 정보만 담은 DTO로 변환
    @Builder
    private PostDetailRes(Long postId, String title, String content /*, String nickname */) {
        this.postId = postId;
        this.title = title;
        this.content = content;
        // this.nickname = nickname;
    }

    public static PostDetailRes from(Post post) {
        // 만들려는 대상인 PostDetailRes의 빌더를 호출해야 합니다.
        return PostDetailRes.builder()
                .postId(post.getId())
                .title(post.getTitle())
                .content(post.getContent())
                // .nickname(post.getMember().getNickname()) // DTO에 필드가 있다면 이렇게 추가
                .build();
    }

}